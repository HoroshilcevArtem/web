<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>WebApp Test</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <h2>–¢–µ—Å—Ç –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
  <div id="user-info"></div>
  <button onclick="sendToBot()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É</button>

  <script>
    const tg = window.Telegram.WebApp;
    tg.ready();

    // –ø–æ–∫–∞–∑–∞—Ç—å –∏–º—è + –∞–≤–∞—Ç–∞—Ä
    const user = tg.initDataUnsafe?.user;
    const userInfoDiv = document.getElementById("user-info");

    if (user) {
      const avatar = user.photo_url ? `<img src="${user.photo_url}" width="40" style="border-radius:50%;"> ` : "";
      const name = user.first_name || "–ì–æ—Å—Ç—å";
      userInfoDiv.innerHTML = avatar + `<span>${name}</span>`;
    } else {
      userInfoDiv.innerHTML = "<span>–ì–æ—Å—Ç—å</span>";
    }

    // —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç–∞
    function sendToBot() {
      alert("–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...");
      tg.sendData("–ü—Ä–∏–≤–µ—Ç –∏–∑ WebApp üëã");
    }
  </script>
</body>
</html>
