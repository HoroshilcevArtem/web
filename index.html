<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Мини-приложение</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f9f9f9;
        }
        
        #profile {
            margin-top: 50px;
        }
        
        img {
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>

<body>
    <div id="profile">Загрузка...</div>

    <script>
        // Берём данные от Telegram
        const tg = window.Telegram.WebApp;
        const user = tg.initDataUnsafe.user;
        const balance = newURLSearchParams(window.location.search).get('balance');

        if (user) {
            document.getElementById("profile").innerHTML =
                '<img src="' + (user.photo_url || "https://t.me/i/userpic/320/" + user.id + ".jpg") + '" ' +
                'width="120" height="120" alt="Аватар">' +
                '<h2>' + user.first_name + ' (ID: ' + user.id + ')</h2>' +
                '<p>Имя пользователя: @' + (user.username || "Не указано") + '</p>' +
                '<p>Баланс: ' + (balance ? balance : "Не указан") + '</p>';
        } else {
            document.getElementById("profile").innerText = "Данные пользователя не найдены.";
        }

        // Растянуть мини-приложение на весь экран
        tg.expand();
    </script>
</body>

</html>